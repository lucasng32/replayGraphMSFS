<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Arc with Rotating Image</title>
    <style>
        /* Styling the container */
        .canvas-container {
            text-align: center;
            margin-top: 50px;
        }

        #canvas {
            border: 1px solid black;
        }

        /* Input styling */
        .controls {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="canvas-container">
        <!-- Canvas for the arc -->
        <canvas id="canvas" width="400" height="400"></canvas>

        <!-- Controls for the angle in radians -->
        <div class="controls">
            <label for="radians">Radians (0 to 2Ï€): </label>
            <input type="range" id="radianRange" min="0" max="6.28319" step="0.01" value="0">
            <span id="radianValue">0</span> radians
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const radianRange = document.getElementById('radianRange');
        const radianValue = document.getElementById('radianValue');

        const img = new Image();
        img.src = 'plane.svg'; // Make sure the image path is correct

        // Function to draw the arc based on the end angle in radians
        function drawArc(endAngle) {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 100;
            const startAngle = 0;

            // Clear the previous drawing
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw the arc
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.strokeStyle = 'blue';
            ctx.lineWidth = 5;
            ctx.stroke();

            // Draw the plane image rotated
            drawImage(img, centerX, centerY, 0.5, endAngle);
        }

        // Function to draw and rotate the image
        function drawImage(image, x, y, scale, rotation){
            ctx.save(); // Save the current state
            ctx.translate(x, y); // Move to the center\
            ctx.scale(scale,scale);
            ctx.rotate(rotation); // Rotate the canvas
            ctx.drawImage(image, -image.width / 2, -image.height / 2); // Draw the image centered
            ctx.restore(); // Restore the previous state
        } 

        // Update the canvas and display the current radian value
        function updateArc() {
            const radians = parseFloat(radianRange.value);
            radianValue.textContent = radians.toFixed(2);
            drawArc(radians);
        }

        // Event listener for the range input to update the arc dynamically
        radianRange.addEventListener('input', updateArc);

        // Make sure the image is fully loaded before drawing
        img.onload = function() {
            updateArc(); // Initial render after the image loads
        };
    </script>

</body>
</html>
